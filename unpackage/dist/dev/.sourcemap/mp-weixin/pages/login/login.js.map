{"version":3,"sources":["uni-app:///main.js","webpack:///D:/x项目/xiaochengxu/pages/login/login.vue?aa4e","webpack:///D:/x项目/xiaochengxu/pages/login/login.vue?9116","webpack:///D:/x项目/xiaochengxu/pages/login/login.vue?0efc","webpack:///D:/x项目/xiaochengxu/pages/login/login.vue?27a8","uni-app:///pages/login/login.vue","webpack:///D:/x项目/xiaochengxu/pages/login/login.vue?280c","webpack:///D:/x项目/xiaochengxu/pages/login/login.vue?fd1d"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,uMAEN;AACL,GAAG;AACH;AACA,WAAW,2RAEN;AACL,GAAG;AACH;AACA,WAAW,mQAEN;AACL,GAAG;AACH;AACA,WAAW,6MAEN;AACL,GAAG;AACH;AACA,WAAW,qRAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6CtnB;AACA;AACA,0D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,QADA,EAEA,WAFA,EAGA,QACA,mBADA,EAEA,QAFA,EAHA,EAOA,SACA,SACA,EACA,cADA,EAEA,iBAFA,EAGA,2BAHA,EADA,CADA,EAQA,OACA,EACA,cADA,EAEA,iBAFA,EAGA,2BAHA,EADA,CARA,EAPA,GAwBA,CA1BA,EA2BA,WACA,MADA,oBACA,mBACA;AACA;AACA;AACA,kDACA,YACA,oBACA,qDACA,iBACA,uCAFA,CAGA;AACA,yDAJA,CAKA;AACA,oDACA,CAPA,EAQA,4CACA,CAXA,MAWA,CACA,oBACA,CACA,CAfA,EAgBA,CArBA;AAsBA,cAtBA,sBAsBA,IAtBA,EAsBA;AACA;AACA,KAxBA;AAyBA,WAzBA,qBAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA,SATA,EASA,IATA;AAUA,OAfA,MAeA;AACA;AACA;AACA,KAhDA;AAiDA,OAjDA,iBAiDA;AACA;AACA,KAnDA;AAoDA,SApDA,mBAoDA;AACA;AACA,KAtDA,EA3BA;;AAmFA,SAnFA,qBAmFA;AACA;AACA,GArFA,E;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAA+nC,CAAgB,ilCAAG,EAAC,C;;;;;;;;;;;ACAnpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b237504c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=b237504c&scoped=true&\"","var components = {\n  uForm: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n    )\n  },\n  uFormItem: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n    )\n  },\n  uInput: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n    )\n  },\n  uToast: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n    )\n  },\n  uVerificationCode: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-verification-code/u-verification-code\" */ \"@/uview-ui/components/u-verification-code/u-verification-code.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n  <view id=\"app\">\r\n    <!-- <uni-nav-bar class=\"status_bar\" left-icon=\"arrowthinleft\"></uni-nav-bar> -->\r\n    <view class=\"box1\">您好，请登录</view>\r\n    <u-form :model=\"form\" ref=\"uForm\">\r\n      <u-form-item prop=\"mobile\" class=\"mobile\">\r\n        <view>\r\n          <span class=\"iconfont f60\">&#xe60b;</span>\r\n          <u-input\r\n            type=\"number\"\r\n            v-model=\"form.mobile\"\r\n            placeholder=\"请输入手机号\"\r\n          />\r\n        </view>\r\n      </u-form-item>\r\n\r\n      <view class=\"code0\">\r\n        <u-form-item prop=\"code\" class=\"code\">\r\n          <view>\r\n            <span class=\"iconfont f60\">&#xe60c;</span>\r\n            <u-input v-model=\"form.code\" placeholder=\"请输入验证码\" />\r\n          </view>\r\n        </u-form-item>\r\n        <!-- <view class=\"code1\" @click=\"getCode\">获取验证码</view> -->\r\n        <view class=\"code1\">\r\n          <u-toast ref=\"uToast\"></u-toast>\r\n          <u-verification-code\r\n            :seconds=\"seconds\"\r\n            @end=\"end\"\r\n            @start=\"start\"\r\n            ref=\"uCode\"\r\n            @change=\"codeChange\"\r\n          ></u-verification-code>\r\n          <button @tap=\"getCode\" class=\"code2\">{{ tips }}</button>\r\n        </view>\r\n      </view>\r\n    </u-form>\r\n    <view class=\"deal\">\r\n      登录既同意<span>《用户使用协议》</span>和<span>《隐私协议》</span></view\r\n    >\r\n    <button class=\"btn\" @click=\"submit\">确定</button>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport '@/static/iconfont/iconfont.css'\r\nimport { auCode, auLogin } from '@/api/login'\r\nimport { setLocal } from '@/utils/local'\r\nexport default {\r\n  data () {\r\n    return {\r\n      tips: '',\r\n      seconds: 60,\r\n      form: {\r\n        mobile: 18511111111,\r\n        code: ''\r\n      },\r\n      rules: {\r\n        mobile: [\r\n          {\r\n            required: true,\r\n            message: '请输入手机号',\r\n            trigger: ['change', 'blur']\r\n          }\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message: '验证码未填写',\r\n            trigger: ['change', 'blur']\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submit () {\r\n      // sets\r\n      // console.log(123)\r\n      // console.log(this.$refs.uForm)\r\n      this.$refs.uForm.validate(valid => {\r\n        if (valid) {\r\n          console.log('验证通过')\r\n          auLogin(this.form).then(res => {\r\n            console.log(res)\r\n            setLocal('token', res.jwt)\r\n            // 保存用户信息到vuex\r\n            this.$store.commit('setUserInfo', res.user)\r\n            // 修改登陆状态\r\n            this.$store.commit('setIsLogin', true)\r\n          })\r\n          uni.switchTab({ url: '/pages/home/my/my' })\r\n        } else {\r\n          console.log('验证失败')\r\n        }\r\n      })\r\n    },\r\n    codeChange (text) {\r\n      this.tips = text\r\n    },\r\n    getCode () {\r\n      const mobile = /^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/\r\n      if (!mobile.test(this.form.mobile)) {\r\n        return\r\n      }\r\n      if (this.$refs.uCode.canGetCode) {\r\n        // 模拟向后端请求验证码\r\n        uni.showLoading({\r\n          title: '正在获取验证码'\r\n        })\r\n        setTimeout(() => {\r\n          uni.hideLoading()\r\n          // 这里此提示会被this.start()方法中的提示覆盖\r\n          this.$u.toast('验证码已发送')\r\n          // 通知验证码组件内部开始倒计时\r\n          this.$refs.uCode.start()\r\n          auCode(this.form).then(res => {\r\n            this.$u.toast(res)\r\n          })\r\n        }, 2000)\r\n      } else {\r\n        this.$u.toast('倒计时结束后再发送')\r\n      }\r\n    },\r\n    end () {\r\n      this.$u.toast('倒计时结束')\r\n    },\r\n    start () {\r\n      this.$u.toast('倒计时开始')\r\n    }\r\n  },\r\n  onReady () {\r\n    this.$refs.uForm.setRules(this.rules)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\npage {\r\n  height: 100%;\r\n  background: #f9f9f9;\r\n}\r\n#app {\r\n  padding: 0 15px;\r\n  background-color: #f9f9f9;\r\n  .box1 {\r\n    font-size: 18px;\r\n    font-family: PingFangSC, PingFangSC-Semibold;\r\n    font-weight: 600;\r\n    text-align: left;\r\n    color: #222222;\r\n    line-height: 100px;\r\n    letter-spacing: 0.21px;\r\n    // margin: 50px 15px;\r\n  }\r\n  .status_bar {\r\n    width: 100%;\r\n  }\r\n  .code0 {\r\n    display: flex;\r\n  }\r\n  .mobile,\r\n  .code {\r\n    display: flex;\r\n    padding: 0 15px;\r\n    margin-bottom: 5px;\r\n    background-color: #fff;\r\n    view {\r\n      display: flex;\r\n    }\r\n  }\r\n  .code {\r\n    width: 58%;\r\n  }\r\n  .code1 {\r\n    width: 41%;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    line-height: 45px;\r\n    uni-button:after {\r\n      border: none !important;\r\n    }\r\n    .code2 {\r\n      color: #00b8d4;\r\n    }\r\n  }\r\n  .deal {\r\n    font-size: 12px;\r\n    font-family: PingFangSC, PingFangSC-Regular;\r\n    font-weight: 400;\r\n    text-align: left;\r\n    line-height: 16.5px;\r\n    letter-spacing: 0.14px;\r\n    margin-bottom: 40px;\r\n  }\r\n  .deal span {\r\n    color: #00b8d4;\r\n  }\r\n  .btn {\r\n    height: 44px;\r\n    background: #e40137;\r\n    border-radius: 22px;\r\n    color: #fff;\r\n    font-size: 18px;\r\n  }\r\n  .f60 {\r\n    margin-right: 8px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608250549541\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}